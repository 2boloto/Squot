A state-based three-way merge of anything.